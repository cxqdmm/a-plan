(window.webpackJsonp=window.webpackJsonp||[]).push([[0,"dashboard-component-terminal"],{"/BcH":function(t,e,n){var r=n("bWPS"),i=n("F/us");function o(t,e,n){this.db=t,this.query=e||{},n&&(this.execFn=n)}o.prototype.limit=function(t){return this._limit=t,this},o.prototype.skip=function(t){return this._skip=t,this},o.prototype.sort=function(t){return this._sort=t,this},o.prototype.projection=function(t){return this._projection=t,this},o.prototype.project=function(t){var e,n,o,a=[],u=this;return void 0===this._projection||0===Object.keys(this._projection).length?t:(e=0!==this._projection._id,this._projection=i.omit(this._projection,"_id"),(o=Object.keys(this._projection)).forEach(function(t){if(void 0!==n&&u._projection[t]!==n)throw new Error("Can't both keep and omit fields except for _id");n=u._projection[t]}),t.forEach(function(t){var i;1===n?(i={$set:{}},o.forEach(function(e){i.$set[e]=r.getDotValue(t,e),void 0===i.$set[e]&&delete i.$set[e]}),i=r.modify({},i)):(i={$unset:{}},o.forEach(function(t){i.$unset[t]=!0}),i=r.modify(t,i)),e?i._id=t._id:delete i._id,a.push(i)}),a)},o.prototype._exec=function(t){var e,n,i,o=[],a=0,u=0,c=this,s=null;function f(e,n){return c.execFn?c.execFn(e,n,t):t(e,n)}this.db.getCandidates(this.query,function(t,l){if(t)return f(t);try{for(e=0;e<l.length;e+=1)if(r.match(l[e],c.query))if(c._sort)o.push(l[e]);else if(c._skip&&c._skip>u)u+=1;else if(o.push(l[e]),a+=1,c._limit&&c._limit<=a)break}catch(t){return f(t)}if(c._sort){n=Object.keys(c._sort);var h=[];for(e=0;e<n.length;e++)i=n[e],h.push({key:i,direction:c._sort[i]});o.sort(function(t,e){var n,i,o;for(o=0;o<h.length;o++)if(0!==(i=(n=h[o]).direction*r.compareThings(r.getDotValue(t,n.key),r.getDotValue(e,n.key),c.db.compareStrings)))return i;return 0});var p=c._limit||o.length,d=c._skip||0;o=o.slice(d,d+p)}try{o=c.project(o)}catch(y){s=y,o=void 0}return f(s,o)})},o.prototype.exec=function(){this.db.executor.push({this:this,fn:this._exec,arguments:arguments})},t.exports=o},"8BYO":function(t,e,n){var r=n("nj0h");function i(){this.buffer=[],this.ready=!1,this.queue=r.queue(function(t,e){for(var n=[],r=0;r<t.arguments.length;r+=1)n.push(t.arguments[r]);var i=t.arguments[t.arguments.length-1];"function"===typeof i?n[n.length-1]=function(){"function"===typeof setImmediate?setImmediate(e):process.nextTick(e),i.apply(null,arguments)}:i||0===t.arguments.length?n.push(function(){e()}):n[n.length-1]=function(){e()},t.fn.apply(t.this,n)},1)}i.prototype.push=function(t,e){this.ready||e?this.queue.push(t):this.buffer.push(t)},i.prototype.processBuffer=function(){var t;for(this.ready=!0,t=0;t<this.buffer.length;t+=1)this.queue.push(this.buffer[t]);this.buffer=[]},t.exports=i},Df9t:function(t,e,n){var r=n("WcSW");t.exports=r},"F/us":function(t,e,n){(function(){var n=this,r=n._,i={},o=Array.prototype,a=Object.prototype,u=Function.prototype,c=o.push,s=o.slice,f=o.concat,l=a.toString,h=a.hasOwnProperty,p=o.forEach,d=o.map,y=o.reduce,v=o.reduceRight,g=o.filter,m=o.every,b=o.some,w=o.indexOf,k=o.lastIndexOf,_=Array.isArray,x=Object.keys,E=u.bind,O=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};t.exports&&(e=t.exports=O),e._=O,O.VERSION="1.4.4";var I=O.each=O.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t)===i)return}else for(var a in t)if(O.has(t,a)&&e.call(n,t[a],a,t)===i)return};O.map=O.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(I(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)};var j="Reduce of empty array with no initial value";O.reduce=O.foldl=O.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),y&&t.reduce===y)return r&&(e=O.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(I(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError(j);return n},O.reduceRight=O.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return r&&(e=O.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=O.keys(t);o=a.length}if(I(t,function(u,c,s){c=a?a[--o]:--o,i?n=e.call(r,n,t[c],c,s):(n=t[c],i=!0)}),!i)throw new TypeError(j);return n},O.find=O.detect=function(t,e,n){var r;return A(t,function(t,i,o){if(e.call(n,t,i,o))return r=t,!0}),r},O.filter=O.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(I(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},O.reject=function(t,e,n){return O.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},O.every=O.all=function(t,e,n){e||(e=O.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(I(t,function(t,o,a){if(!(r=r&&e.call(n,t,o,a)))return i}),!!r)};var A=O.some=O.any=function(t,e,n){e||(e=O.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(I(t,function(t,o,a){if(r||(r=e.call(n,t,o,a)))return i}),!!r)};O.contains=O.include=function(t,e){return null!=t&&(w&&t.indexOf===w?-1!=t.indexOf(e):A(t,function(t){return t===e}))},O.invoke=function(t,e){var n=s.call(arguments,2),r=O.isFunction(e);return O.map(t,function(t){return(r?e:t[e]).apply(t,n)})},O.pluck=function(t,e){return O.map(t,function(t){return t[e]})},O.where=function(t,e,n){return O.isEmpty(e)?n?null:[]:O[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},O.findWhere=function(t,e){return O.where(t,e,!0)},O.max=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&O.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return I(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a>=r.computed&&(r={value:t,computed:a})}),r.value},O.min=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&O.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return I(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a<r.computed&&(r={value:t,computed:a})}),r.value},O.shuffle=function(t){var e,n=0,r=[];return I(t,function(t){e=O.random(n++),r[n-1]=r[e],r[e]=t}),r};var S=function(t){return O.isFunction(t)?t:function(e){return e[t]}};O.sortBy=function(t,e,n){var r=S(e);return O.pluck(O.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var D=function(t,e,n,r){var i={},o=S(e||O.identity);return I(t,function(e,a){var u=o.call(n,e,a,t);r(i,u,e)}),i};O.groupBy=function(t,e,n){return D(t,e,n,function(t,e,n){(O.has(t,e)?t[e]:t[e]=[]).push(n)})},O.countBy=function(t,e,n){return D(t,e,n,function(t,e){O.has(t,e)||(t[e]=0),t[e]++})},O.sortedIndex=function(t,e,n,r){for(var i=(n=null==n?O.identity:S(n)).call(r,e),o=0,a=t.length;o<a;){var u=o+a>>>1;n.call(r,t[u])<i?o=u+1:a=u}return o},O.toArray=function(t){return t?O.isArray(t)?s.call(t):t.length===+t.length?O.map(t,O.identity):O.values(t):[]},O.size=function(t){return null==t?0:t.length===+t.length?t.length:O.keys(t).length},O.first=O.head=O.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:s.call(t,0,e)},O.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},O.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},O.rest=O.tail=O.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},O.compact=function(t){return O.filter(t,O.identity)};O.flatten=function(t,e){return function t(e,n,r){return I(e,function(e){O.isArray(e)?n?c.apply(r,e):t(e,n,r):r.push(e)}),r}(t,e,[])},O.without=function(t){return O.difference(t,s.call(arguments,1))},O.uniq=O.unique=function(t,e,n,r){O.isFunction(e)&&(r=n,n=e,e=!1);var i=n?O.map(t,n,r):t,o=[],a=[];return I(i,function(n,r){(e?r&&a[a.length-1]===n:O.contains(a,n))||(a.push(n),o.push(t[r]))}),o},O.union=function(){return O.uniq(f.apply(o,arguments))},O.intersection=function(t){var e=s.call(arguments,1);return O.filter(O.uniq(t),function(t){return O.every(e,function(e){return O.indexOf(e,t)>=0})})},O.difference=function(t){var e=f.apply(o,s.call(arguments,1));return O.filter(t,function(t){return!O.contains(e,t)})},O.zip=function(){for(var t=s.call(arguments),e=O.max(O.pluck(t,"length")),n=new Array(e),r=0;r<e;r++)n[r]=O.pluck(t,""+r);return n},O.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},O.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return t[r=O.sortedIndex(t,e)]===e?r:-1;r=n<0?Math.max(0,i+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;r<i;r++)if(t[r]===e)return r;return-1},O.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(k&&t.lastIndexOf===k)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},O.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);i<r;)o[i++]=t,t+=n;return o},O.bind=function(t,e){if(t.bind===E&&E)return E.apply(t,s.call(arguments,1));var n=s.call(arguments,2);return function(){return t.apply(e,n.concat(s.call(arguments)))}},O.partial=function(t){var e=s.call(arguments,1);return function(){return t.apply(this,e.concat(s.call(arguments)))}},O.bindAll=function(t){var e=s.call(arguments,1);return 0===e.length&&(e=O.functions(t)),I(e,function(e){t[e]=O.bind(t[e],t)}),t},O.memoize=function(t,e){var n={};return e||(e=O.identity),function(){var r=e.apply(this,arguments);return O.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},O.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},O.defer=function(t){return O.delay.apply(O,[t,1].concat(s.call(arguments,1)))},O.throttle=function(t,e){var n,r,i,o,a=0,u=function(){a=new Date,i=null,o=t.apply(n,r)};return function(){var c=new Date,s=e-(c-a);return n=this,r=arguments,s<=0?(clearTimeout(i),i=null,a=c,o=t.apply(n,r)):i||(i=setTimeout(u,s)),o}},O.debounce=function(t,e,n){var r,i;return function(){var o=this,a=arguments,u=n&&!r;return clearTimeout(r),r=setTimeout(function(){r=null,n||(i=t.apply(o,a))},e),u&&(i=t.apply(o,a)),i}},O.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},O.wrap=function(t,e){return function(){var n=[t];return c.apply(n,arguments),e.apply(this,n)}},O.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},O.after=function(t,e){return t<=0?e():function(){if(--t<1)return e.apply(this,arguments)}},O.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)O.has(t,n)&&(e[e.length]=n);return e},O.values=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push(t[n]);return e},O.pairs=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push([n,t[n]]);return e},O.invert=function(t){var e={};for(var n in t)O.has(t,n)&&(e[t[n]]=n);return e},O.functions=O.methods=function(t){var e=[];for(var n in t)O.isFunction(t[n])&&e.push(n);return e.sort()},O.extend=function(t){return I(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},O.pick=function(t){var e={},n=f.apply(o,s.call(arguments,1));return I(n,function(n){n in t&&(e[n]=t[n])}),e},O.omit=function(t){var e={},n=f.apply(o,s.call(arguments,1));for(var r in t)O.contains(n,r)||(e[r]=t[r]);return e},O.defaults=function(t){return I(s.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},O.clone=function(t){return O.isObject(t)?O.isArray(t)?t.slice():O.extend({},t):t},O.tap=function(t,e){return e(t),t};O.isEqual=function(t,e){return function t(e,n,r,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof O&&(e=e._wrapped),n instanceof O&&(n=n._wrapped);var o=l.call(e);if(o!=l.call(n))return!1;switch(o){case"[object String]":return e==String(n);case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var a=r.length;a--;)if(r[a]==e)return i[a]==n;r.push(e),i.push(n);var u=0,c=!0;if("[object Array]"==o){if(c=(u=e.length)==n.length)for(;u--&&(c=t(e[u],n[u],r,i)););}else{var s=e.constructor,f=n.constructor;if(s!==f&&!(O.isFunction(s)&&s instanceof s&&O.isFunction(f)&&f instanceof f))return!1;for(var h in e)if(O.has(e,h)&&(u++,!(c=O.has(n,h)&&t(e[h],n[h],r,i))))break;if(c){for(h in n)if(O.has(n,h)&&!u--)break;c=!u}}return r.pop(),i.pop(),c}(t,e,[],[])},O.isEmpty=function(t){if(null==t)return!0;if(O.isArray(t)||O.isString(t))return 0===t.length;for(var e in t)if(O.has(t,e))return!1;return!0},O.isElement=function(t){return!(!t||1!==t.nodeType)},O.isArray=_||function(t){return"[object Array]"==l.call(t)},O.isObject=function(t){return t===Object(t)},I(["Arguments","Function","String","Number","Date","RegExp"],function(t){O["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),O.isArguments(arguments)||(O.isArguments=function(t){return!(!t||!O.has(t,"callee"))}),O.isFunction=function(t){return"function"===typeof t},O.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},O.isNaN=function(t){return O.isNumber(t)&&t!=+t},O.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==l.call(t)},O.isNull=function(t){return null===t},O.isUndefined=function(t){return void 0===t},O.has=function(t,e){return h.call(t,e)},O.noConflict=function(){return n._=r,this},O.identity=function(t){return t},O.times=function(t,e,n){for(var r=Array(t),i=0;i<t;i++)r[i]=e.call(n,i);return r},O.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=O.invert(N.escape);var $={escape:new RegExp("["+O.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+O.keys(N.unescape).join("|")+")","g")};O.each(["escape","unescape"],function(t){O[t]=function(e){return null==e?"":(""+e).replace($[t],function(e){return N[t][e]})}}),O.result=function(t,e){if(null==t)return null;var n=t[e];return O.isFunction(n)?n.call(t):n},O.mixin=function(t){I(O.functions(t),function(e){var n=O[e]=t[e];O.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),F.call(this,n.apply(O,t))}})};var P=0;O.uniqueId=function(t){var e=++P+"";return t?t+e:e},O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;O.template=function(t,e,n){var r;n=O.defaults({},n,O.templateSettings);var i=new RegExp([(n.escape||C).source,(n.interpolate||C).source,(n.evaluate||C).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,u){return a+=t.slice(o,u).replace(M,function(t){return"\\"+T[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=u+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(c){throw c.source=a,c}if(e)return r(e,O);var u=function(t){return r.call(this,t,O)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},O.chain=function(t){return O(t).chain()};var F=function(t){return this._chain?O(t).chain():t};O.mixin(O),I(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];O.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),I(["concat","join","slice"],function(t){var e=o[t];O.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),O.extend(O.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},HBqu:function(t,e,n){var r=n("oAJy");function i(t,e,n,i){"function"===typeof n&&(i=n),r.setItem(t,e,function(){return i()})}r.config({name:"NeDB",storeName:"nedbdata"}),t.exports.exists=function(t,e){r.getItem(t,function(t,n){return e(null!==n)})},t.exports.rename=function(t,e,n){r.getItem(t,function(i,o){null===o?r.removeItem(e,function(){return n()}):r.setItem(e,o,function(){r.removeItem(t,function(){return n()})})})},t.exports.writeFile=i,t.exports.crashSafeWriteFile=i,t.exports.appendFile=function(t,e,n,i){"function"===typeof n&&(i=n),r.getItem(t,function(n,o){o=o||"",o+=e,r.setItem(t,o,function(){return i()})})},t.exports.readFile=function(t,e,n){"function"===typeof e&&(n=e),r.getItem(t,function(t,e){return n(null,e||"")})},t.exports.unlink=function(t,e){r.removeItem(t,function(){return e()})},t.exports.mkdirp=function(t,e){return e()},t.exports.ensureDatafileIntegrity=function(t,e){return e(null)}},"HaE+":function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function u(t){r(a,i,o,u,c,"next",t)}function c(t){r(a,i,o,u,c,"throw",t)}u(void 0)})}}n.d(e,"a",function(){return i})},"Mvv/":function(t,e){t.exports.uid=function(t){return function(t){var e,n,r,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=t.length%3,u="";for(r=0,n=t.length-a;r<n;r+=3)e=(t[r]<<16)+(t[r+1]<<8)+t[r+2],u+=o[(i=e)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i];switch(a){case 1:e=t[t.length-1],u+=o[e>>2],u+=o[e<<4&63],u+="==";break;case 2:e=(t[t.length-2]<<8)+t[t.length-1],u+=o[e>>10],u+=o[e>>4&63],u+=o[e<<2&63],u+="="}return u}(function(t){for(var e,n=new Array(t),r=0;r<t;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}(Math.ceil(Math.max(8,2*t)))).replace(/[+\/]/g,"").slice(0,t)}},WcSW:function(t,e,n){var r=n("Mvv/"),i=n("bWPS"),o=n("nj0h"),a=n("8BYO"),u=n("ppU0"),c=n("jK02"),s=n("F/us"),f=n("eLBf"),l=n("/BcH");function h(t){var e;"string"===typeof t?(e=t,this.inMemoryOnly=!1):(e=(t=t||{}).filename,this.inMemoryOnly=t.inMemoryOnly||!1,this.autoload=t.autoload||!1,this.timestampData=t.timestampData||!1),e&&"string"===typeof e&&0!==e.length?this.filename=e:(this.filename=null,this.inMemoryOnly=!0),this.compareStrings=t.compareStrings,this.persistence=new f({db:this,nodeWebkitAppName:t.nodeWebkitAppName,afterSerialization:t.afterSerialization,beforeDeserialization:t.beforeDeserialization,corruptAlertThreshold:t.corruptAlertThreshold}),this.executor=new a,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new u({fieldName:"_id",unique:!0}),this.ttlIndexes={},this.autoload&&this.loadDatabase(t.onload||function(t){if(t)throw t})}c.inherits(h,n("/0p4").EventEmitter),h.prototype.loadDatabase=function(){this.executor.push({this:this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},h.prototype.getAllData=function(){return this.indexes._id.getAll()},h.prototype.resetIndexes=function(t){var e=this;Object.keys(this.indexes).forEach(function(n){e.indexes[n].reset(t)})},h.prototype.ensureIndex=function(t,e){var n,r=e||function(){};if(!(t=t||{}).fieldName)return(n=new Error("Cannot create an index without a fieldName")).missingFieldName=!0,r(n);if(this.indexes[t.fieldName])return r(null);this.indexes[t.fieldName]=new u(t),void 0!==t.expireAfterSeconds&&(this.ttlIndexes[t.fieldName]=t.expireAfterSeconds);try{this.indexes[t.fieldName].insert(this.getAllData())}catch(i){return delete this.indexes[t.fieldName],r(i)}this.persistence.persistNewState([{$$indexCreated:t}],function(t){return r(t||null)})},h.prototype.removeIndex=function(t,e){var n=e||function(){};delete this.indexes[t],this.persistence.persistNewState([{$$indexRemoved:t}],function(t){return n(t||null)})},h.prototype.addToIndexes=function(t){var e,n,r,i=Object.keys(this.indexes);for(e=0;e<i.length;e+=1)try{this.indexes[i[e]].insert(t)}catch(o){n=e,r=o;break}if(r){for(e=0;e<n;e+=1)this.indexes[i[e]].remove(t);throw r}},h.prototype.removeFromIndexes=function(t){var e=this;Object.keys(this.indexes).forEach(function(n){e.indexes[n].remove(t)})},h.prototype.updateIndexes=function(t,e){var n,r,i,o=Object.keys(this.indexes);for(n=0;n<o.length;n+=1)try{this.indexes[o[n]].update(t,e)}catch(a){r=n,i=a;break}if(i){for(n=0;n<r;n+=1)this.indexes[o[n]].revertUpdate(t,e);throw i}},h.prototype.getCandidates=function(t,e,n){var r,i=Object.keys(this.indexes),a=this;"function"===typeof e&&(n=e,e=!1),o.waterfall([function(e){return r=[],Object.keys(t).forEach(function(e){("string"===typeof t[e]||"number"===typeof t[e]||"boolean"===typeof t[e]||c.isDate(t[e])||null===t[e])&&r.push(e)}),(r=s.intersection(r,i)).length>0?e(null,a.indexes[r[0]].getMatching(t[r[0]])):(r=[],Object.keys(t).forEach(function(e){t[e]&&t[e].hasOwnProperty("$in")&&r.push(e)}),(r=s.intersection(r,i)).length>0?e(null,a.indexes[r[0]].getMatching(t[r[0]].$in)):(r=[],Object.keys(t).forEach(function(e){t[e]&&(t[e].hasOwnProperty("$lt")||t[e].hasOwnProperty("$lte")||t[e].hasOwnProperty("$gt")||t[e].hasOwnProperty("$gte"))&&r.push(e)}),(r=s.intersection(r,i)).length>0?e(null,a.indexes[r[0]].getBetweenBounds(t[r[0]])):e(null,a.getAllData())))},function(t){if(e)return n(null,t);var r=[],i=[],u=Object.keys(a.ttlIndexes);t.forEach(function(t){var e=!0;u.forEach(function(n){void 0!==t[n]&&c.isDate(t[n])&&Date.now()>t[n].getTime()+1e3*a.ttlIndexes[n]&&(e=!1)}),e?i.push(t):r.push(t._id)}),o.eachSeries(r,function(t,e){a._remove({_id:t},{},function(t){return t?n(t):e()})},function(t){return n(null,i)})}])},h.prototype._insert=function(t,e){var n,r=e||function(){};try{n=this.prepareDocumentForInsertion(t),this._insertInCache(n)}catch(o){return r(o)}this.persistence.persistNewState(c.isArray(n)?n:[n],function(t){return t?r(t):r(null,i.deepCopy(n))})},h.prototype.createNewId=function(){var t=r.uid(16);return this.indexes._id.getMatching(t).length>0&&(t=this.createNewId()),t},h.prototype.prepareDocumentForInsertion=function(t){var e,n=this;if(c.isArray(t))e=[],t.forEach(function(t){e.push(n.prepareDocumentForInsertion(t))});else{void 0===(e=i.deepCopy(t))._id&&(e._id=this.createNewId());var r=new Date;this.timestampData&&void 0===e.createdAt&&(e.createdAt=r),this.timestampData&&void 0===e.updatedAt&&(e.updatedAt=r),i.checkObject(e)}return e},h.prototype._insertInCache=function(t){c.isArray(t)?this._insertMultipleDocsInCache(t):this.addToIndexes(t)},h.prototype._insertMultipleDocsInCache=function(t){var e,n,r;for(e=0;e<t.length;e+=1)try{this.addToIndexes(t[e])}catch(i){r=i,n=e;break}if(r){for(e=0;e<n;e+=1)this.removeFromIndexes(t[e]);throw r}},h.prototype.insert=function(){this.executor.push({this:this,fn:this._insert,arguments:arguments})},h.prototype.count=function(t,e){var n=new l(this,t,function(t,e,n){return t?n(t):n(null,e.length)});if("function"!==typeof e)return n;n.exec(e)},h.prototype.find=function(t,e,n){switch(arguments.length){case 1:e={};break;case 2:"function"===typeof e&&(n=e,e={})}var r=new l(this,t,function(t,e,n){var r,o=[];if(t)return n(t);for(r=0;r<e.length;r+=1)o.push(i.deepCopy(e[r]));return n(null,o)});if(r.projection(e),"function"!==typeof n)return r;r.exec(n)},h.prototype.findOne=function(t,e,n){switch(arguments.length){case 1:e={};break;case 2:"function"===typeof e&&(n=e,e={})}var r=new l(this,t,function(t,e,n){return t?n(t):1===e.length?n(null,i.deepCopy(e[0])):n(null,null)});if(r.projection(e).limit(1),"function"!==typeof n)return r;r.exec(n)},h.prototype._update=function(t,e,n,r){var a,u,c,f,h=this,p=0;"function"===typeof n&&(r=n,n={}),a=r||function(){},u=void 0!==n.multi&&n.multi,c=void 0!==n.upsert&&n.upsert,o.waterfall([function(n){if(!c)return n();new l(h,t).limit(1)._exec(function(r,o){if(r)return a(r);if(1===o.length)return n();var u;try{i.checkObject(e),u=e}catch(c){try{u=i.modify(i.deepCopy(t,!0),e)}catch(r){return a(r)}}return h._insert(u,function(t,e){return t?a(t):a(null,1,e,!0)})})},function(){var r,o,c=[];h.getCandidates(t,function(l,d){if(l)return a(l);try{for(f=0;f<d.length;f+=1)i.match(d[f],t)&&(u||0===p)&&(p+=1,h.timestampData&&(o=d[f].createdAt),r=i.modify(d[f],e),h.timestampData&&(r.createdAt=o,r.updatedAt=new Date),c.push({oldDoc:d[f],newDoc:r}))}catch(l){return a(l)}try{h.updateIndexes(c)}catch(l){return a(l)}var y=s.pluck(c,"newDoc");h.persistence.persistNewState(y,function(t){if(t)return a(t);if(n.returnUpdatedDocs){var e=[];return y.forEach(function(t){e.push(i.deepCopy(t))}),u||(e=e[0]),a(null,p,e)}return a(null,p)})})}])},h.prototype.update=function(){this.executor.push({this:this,fn:this._update,arguments:arguments})},h.prototype._remove=function(t,e,n){var r,o,a=this,u=0,c=[];"function"===typeof e&&(n=e,e={}),r=n||function(){},o=void 0!==e.multi&&e.multi,this.getCandidates(t,!0,function(e,n){if(e)return r(e);try{n.forEach(function(e){i.match(e,t)&&(o||0===u)&&(u+=1,c.push({$$deleted:!0,_id:e._id}),a.removeFromIndexes(e))})}catch(e){return r(e)}a.persistence.persistNewState(c,function(t){return t?r(t):r(null,u)})})},h.prototype.remove=function(){this.executor.push({this:this,fn:this._remove,arguments:arguments})},t.exports=h},bWPS:function(t,e,n){var r=n("jK02"),i=n("F/us"),o={},a={},u={},c={},s={};function f(t,e){if("number"===typeof t&&(t=t.toString()),"$"===t[0]&&("$$date"!==t||"number"!==typeof e)&&("$$deleted"!==t||!0!==e)&&"$$indexCreated"!==t&&"$$indexRemoved"!==t)throw new Error("Field names cannot begin with the $ character");if(-1!==t.indexOf("."))throw new Error("Field names cannot contain a .")}function l(t){r.isArray(t)&&t.forEach(function(t){l(t)}),"object"===typeof t&&null!==t&&Object.keys(t).forEach(function(e){f(e,t[e]),l(t[e])})}function h(t,e){var n;return"boolean"===typeof t||"number"===typeof t||"string"===typeof t||null===t||r.isDate(t)?t:r.isArray(t)?(n=[],t.forEach(function(t){n.push(h(t,e))}),n):"object"===typeof t?(n={},Object.keys(t).forEach(function(r){(!e||"$"!==r[0]&&-1===r.indexOf("."))&&(n[r]=h(t[r],e))}),n):void 0}function p(t){return"boolean"===typeof t||"number"===typeof t||"string"===typeof t||null===t||r.isDate(t)||r.isArray(t)}function d(t,e){return t<e?-1:t>e?1:0}function y(t,e){var n,r;for(n=0;n<Math.min(t.length,e.length);n+=1)if(0!==(r=v(t[n],e[n])))return r;return d(t.length,e.length)}function v(t,e,n){var i,o,a,u,c=n||d;if(void 0===t)return void 0===e?0:-1;if(void 0===e)return void 0===t?0:1;if(null===t)return null===e?0:-1;if(null===e)return null===t?0:1;if("number"===typeof t)return"number"===typeof e?d(t,e):-1;if("number"===typeof e)return"number"===typeof t?d(t,e):1;if("string"===typeof t)return"string"===typeof e?c(t,e):-1;if("string"===typeof e)return"string"===typeof t?c(t,e):1;if("boolean"===typeof t)return"boolean"===typeof e?d(t,e):-1;if("boolean"===typeof e)return"boolean"===typeof t?d(t,e):1;if(r.isDate(t))return r.isDate(e)?d(t.getTime(),e.getTime()):-1;if(r.isDate(e))return r.isDate(t)?d(t.getTime(),e.getTime()):1;if(r.isArray(t))return r.isArray(e)?y(t,e):-1;if(r.isArray(e))return r.isArray(t)?y(t,e):1;for(i=Object.keys(t).sort(),o=Object.keys(e).sort(),u=0;u<Math.min(i.length,o.length);u+=1)if(0!==(a=v(t[i[u]],e[o[u]])))return a;return d(i.length,o.length)}function g(t,e){var n,i,o="string"===typeof e?e.split("."):e;if(t){if(0===o.length)return t;if(1===o.length)return t[o[0]];if(r.isArray(t[o[0]])){if("number"===typeof(n=parseInt(o[1],10))&&!isNaN(n))return g(t[o[0]][n],o.slice(2));for(i=new Array,n=0;n<t[o[0]].length;n+=1)i.push(g(t[o[0]][n],o.slice(1)));return i}return g(t[o[0]],o.slice(1))}}function m(t,e){var n,i,o;if(null===t||"string"===typeof t||"boolean"===typeof t||"number"===typeof t||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e)return t===e;if(r.isDate(t)||r.isDate(e))return r.isDate(t)&&r.isDate(e)&&t.getTime()===e.getTime();if((!r.isArray(t)||!r.isArray(e))&&(r.isArray(t)||r.isArray(e))||void 0===t||void 0===e)return!1;try{n=Object.keys(t),i=Object.keys(e)}catch(a){return!1}if(n.length!==i.length)return!1;for(o=0;o<n.length;o+=1){if(-1===i.indexOf(n[o]))return!1;if(!m(t[n[o]],e[n[o]]))return!1}return!0}function b(t,e){return!("string"!==typeof t&&"number"!==typeof t&&!r.isDate(t)&&"string"!==typeof e&&"number"!==typeof e&&!r.isDate(e))&&typeof t===typeof e}function w(t,e){var n,r,i,o;if(p(t)||p(e))return k({needAKey:t},"needAKey",e);for(n=Object.keys(e),o=0;o<n.length;o+=1)if(i=e[r=n[o]],"$"===r[0]){if(!c[r])throw new Error("Unknown logical operator "+r);if(!c[r](t,i))return!1}else if(!k(t,r,i))return!1;return!0}function k(t,e,n,o){var a,c,f,l,h=g(t,e);if(r.isArray(h)&&!o){if(r.isArray(n))return k(t,e,n,!0);if(null!==n&&"object"===typeof n&&!r.isRegExp(n))for(c=Object.keys(n),a=0;a<c.length;a+=1)if(s[c[a]])return k(t,e,n,!0);for(a=0;a<h.length;a+=1)if(k({k:h[a]},"k",n))return!0;return!1}if(null!==n&&"object"===typeof n&&!r.isRegExp(n)&&!r.isArray(n)){if(c=Object.keys(n),f=i.map(c,function(t){return t[0]}),0!==(l=i.filter(f,function(t){return"$"===t})).length&&l.length!==f.length)throw new Error("You cannot mix operators and normal fields");if(l.length>0){for(a=0;a<c.length;a+=1){if(!u[c[a]])throw new Error("Unknown comparison function "+c[a]);if(!u[c[a]](h,n[c[a]]))return!1}return!0}}return r.isRegExp(n)?u.$regex(h,n):!!m(h,n)}a.$set=function(t,e,n){t[e]=n},a.$unset=function(t,e,n){delete t[e]},a.$push=function(t,e,n){if(t.hasOwnProperty(e)||(t[e]=[]),!r.isArray(t[e]))throw new Error("Can't $push an element on non-array values");if(null!==n&&"object"===typeof n&&n.$slice&&void 0===n.$each&&(n.$each=[]),null!==n&&"object"===typeof n&&n.$each){if(Object.keys(n).length>=3||2===Object.keys(n).length&&void 0===n.$slice)throw new Error("Can only use $slice in cunjunction with $each when $push to array");if(!r.isArray(n.$each))throw new Error("$each requires an array value");if(n.$each.forEach(function(n){t[e].push(n)}),void 0===n.$slice||"number"!==typeof n.$slice)return;if(0===n.$slice)t[e]=[];else{var i,o,a=t[e].length;n.$slice<0?(i=Math.max(0,a+n.$slice),o=a):n.$slice>0&&(i=0,o=Math.min(a,n.$slice)),t[e]=t[e].slice(i,o)}}else t[e].push(n)},a.$addToSet=function(t,e,n){var i=!0;if(t.hasOwnProperty(e)||(t[e]=[]),!r.isArray(t[e]))throw new Error("Can't $addToSet an element on non-array values");if(null!==n&&"object"===typeof n&&n.$each){if(Object.keys(n).length>1)throw new Error("Can't use another field in conjunction with $each");if(!r.isArray(n.$each))throw new Error("$each requires an array value");n.$each.forEach(function(n){a.$addToSet(t,e,n)})}else t[e].forEach(function(t){0===v(t,n)&&(i=!1)}),i&&t[e].push(n)},a.$pop=function(t,e,n){if(!r.isArray(t[e]))throw new Error("Can't $pop an element from non-array values");if("number"!==typeof n)throw new Error(n+" isn't an integer, can't use it with $pop");0!==n&&(t[e]=n>0?t[e].slice(0,t[e].length-1):t[e].slice(1))},a.$pull=function(t,e,n){var i,o;if(!r.isArray(t[e]))throw new Error("Can't $pull an element from non-array values");for(o=(i=t[e]).length-1;o>=0;o-=1)w(i[o],n)&&i.splice(o,1)},a.$inc=function(t,e,n){if("number"!==typeof n)throw new Error(n+" must be a number");if("number"!==typeof t[e]){if(i.has(t,e))throw new Error("Don't use the $inc modifier on non-number fields");t[e]=n}else t[e]+=n},a.$max=function(t,e,n){"undefined"===typeof t[e]?t[e]=n:n>t[e]&&(t[e]=n)},a.$min=function(t,e,n){"undefined"===typeof t[e]?t[e]=n:n<t[e]&&(t[e]=n)},Object.keys(a).forEach(function(t){o[t]=function(t){return function(e,n,r){var i="string"===typeof n?n.split("."):n;if(1===i.length)a[t](e,n,r);else{if(void 0===e[i[0]]){if("$unset"===t)return;e[i[0]]={}}o[t](e[i[0]],i.slice(1),r)}}}(t)}),u.$lt=function(t,e){return b(t,e)&&t<e},u.$lte=function(t,e){return b(t,e)&&t<=e},u.$gt=function(t,e){return b(t,e)&&t>e},u.$gte=function(t,e){return b(t,e)&&t>=e},u.$ne=function(t,e){return void 0===t||!m(t,e)},u.$in=function(t,e){var n;if(!r.isArray(e))throw new Error("$in operator called with a non-array");for(n=0;n<e.length;n+=1)if(m(t,e[n]))return!0;return!1},u.$nin=function(t,e){if(!r.isArray(e))throw new Error("$nin operator called with a non-array");return!u.$in(t,e)},u.$regex=function(t,e){if(!r.isRegExp(e))throw new Error("$regex operator called with non regular expression");return"string"===typeof t&&e.test(t)},u.$exists=function(t,e){return e=!(!e&&""!==e),void 0===t?!e:e},u.$size=function(t,e){if(!r.isArray(t))return!1;if(e%1!==0)throw new Error("$size operator called without an integer");return t.length==e},u.$elemMatch=function(t,e){if(!r.isArray(t))return!1;for(var n=t.length,i=!1;n--;)if(w(t[n],e)){i=!0;break}return i},s.$size=!0,s.$elemMatch=!0,c.$or=function(t,e){var n;if(!r.isArray(e))throw new Error("$or operator used without an array");for(n=0;n<e.length;n+=1)if(w(t,e[n]))return!0;return!1},c.$and=function(t,e){var n;if(!r.isArray(e))throw new Error("$and operator used without an array");for(n=0;n<e.length;n+=1)if(!w(t,e[n]))return!1;return!0},c.$not=function(t,e){return!w(t,e)},c.$where=function(t,e){var n;if(!i.isFunction(e))throw new Error("$where operator used without a function");if(n=e.call(t),!i.isBoolean(n))throw new Error("$where function must return boolean");return n},t.exports.serialize=function(t){return JSON.stringify(t,function(t,e){if(f(t,e),void 0!==e)return null===e?null:"function"===typeof this[t].getTime?{$$date:this[t].getTime()}:e})},t.exports.deserialize=function(t){return JSON.parse(t,function(t,e){return"$$date"===t?new Date(e):"string"===typeof e||"number"===typeof e||"boolean"===typeof e||null===e?e:e&&e.$$date?e.$$date:e})},t.exports.deepCopy=h,t.exports.checkObject=l,t.exports.isPrimitiveType=p,t.exports.modify=function(t,e){var n,r,a=Object.keys(e),u=i.map(a,function(t){return t[0]}),c=i.filter(u,function(t){return"$"===t});if(-1!==a.indexOf("_id")&&e._id!==t._id)throw new Error("You cannot change a document's _id");if(0!==c.length&&c.length!==u.length)throw new Error("You cannot mix modifiers and normal fields");if(0===c.length?(n=h(e))._id=t._id:(r=i.uniq(a),n=h(t),r.forEach(function(t){if(!o[t])throw new Error("Unknown modifier "+t);if("object"!==typeof e[t])throw new Error("Modifier "+t+"'s argument must be an object");Object.keys(e[t]).forEach(function(r){o[t](n,r,e[t][r])})})),l(n),t._id!==n._id)throw new Error("You can't change a document's _id");return n},t.exports.getDotValue=g,t.exports.match=w,t.exports.areThingsEqual=m,t.exports.compareThings=v},eLBf:function(t,e,n){var r=n("HBqu"),i=n("oyvS"),o=n("bWPS"),a=n("nj0h"),u=n("Mvv/"),c=n("ppU0");function s(t){var e,n,r;if(this.db=t.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==t.corruptAlertThreshold?t.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw new Error("The datafile name can't end with a ~, which is reserved for crash safe backup files");if(t.afterSerialization&&!t.beforeDeserialization)throw new Error("Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss");if(!t.afterSerialization&&t.beforeDeserialization)throw new Error("Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss");for(this.afterSerialization=t.afterSerialization||function(t){return t},this.beforeDeserialization=t.beforeDeserialization||function(t){return t},e=1;e<30;e+=1)for(n=0;n<10;n+=1)if(r=u.uid(e),this.beforeDeserialization(this.afterSerialization(r))!==r)throw new Error("beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss");this.filename&&t.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=s.getNWAppFilename(t.nodeWebkitAppName,this.filename))}s.ensureDirectoryExists=function(t,e){var n=e||function(){};r.mkdirp(t,function(t){return n(t)})},s.getNWAppFilename=function(t,e){var n;switch(process.platform){case"win32":case"win64":if(!(n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).LOCALAPPDATA||Object({NODE_ENV:"production",PUBLIC_URL:"."}).APPDATA))throw new Error("Couldn't find the base application data folder");n=i.join(n,t);break;case"darwin":if(!(n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).HOME))throw new Error("Couldn't find the base application data directory");n=i.join(n,"Library","Application Support",t);break;case"linux":if(!(n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).HOME))throw new Error("Couldn't find the base application data directory");n=i.join(n,".config",t);break;default:throw new Error("Can't use the Node Webkit relative path for platform "+process.platform)}return i.join(n,"nedb-data",e)},s.prototype.persistCachedDatabase=function(t){var e=t||function(){},n="",i=this;if(this.inMemoryOnly)return e(null);this.db.getAllData().forEach(function(t){n+=i.afterSerialization(o.serialize(t))+"\n"}),Object.keys(this.db.indexes).forEach(function(t){"_id"!=t&&(n+=i.afterSerialization(o.serialize({$$indexCreated:{fieldName:t,unique:i.db.indexes[t].unique,sparse:i.db.indexes[t].sparse}}))+"\n")}),r.crashSafeWriteFile(this.filename,n,function(t){return t?e(t):(i.db.emit("compaction.done"),e(null))})},s.prototype.compactDatafile=function(){this.db.executor.push({this:this,fn:this.persistCachedDatabase,arguments:[]})},s.prototype.setAutocompactionInterval=function(t){var e=this,n=Math.max(t||0,5e3);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval(function(){e.compactDatafile()},n)},s.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},s.prototype.persistNewState=function(t,e){var n=this,i="",a=e||function(){};return n.inMemoryOnly?a(null):(t.forEach(function(t){i+=n.afterSerialization(o.serialize(t))+"\n"}),0===i.length?a(null):void r.appendFile(n.filename,i,"utf8",function(t){return a(t)}))},s.prototype.treatRawData=function(t){var e,n=t.split("\n"),r={},i=[],a={},u=-1;for(e=0;e<n.length;e+=1){var c;try{(c=o.deserialize(this.beforeDeserialization(n[e])))._id?!0===c.$$deleted?delete r[c._id]:r[c._id]=c:c.$$indexCreated&&void 0!=c.$$indexCreated.fieldName?a[c.$$indexCreated.fieldName]=c.$$indexCreated:"string"===typeof c.$$indexRemoved&&delete a[c.$$indexRemoved]}catch(s){u+=1}}if(n.length>0&&u/n.length>this.corruptAlertThreshold)throw new Error("More than "+Math.floor(100*this.corruptAlertThreshold)+"% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss");return Object.keys(r).forEach(function(t){i.push(r[t])}),{data:i,indexes:a}},s.prototype.loadDatabase=function(t){var e=t||function(){},n=this;if(n.db.resetIndexes(),n.inMemoryOnly)return e(null);a.waterfall([function(t){s.ensureDirectoryExists(i.dirname(n.filename),function(e){r.ensureDatafileIntegrity(n.filename,function(e){r.readFile(n.filename,"utf8",function(e,r){if(e)return t(e);try{var i=n.treatRawData(r)}catch(o){return t(o)}Object.keys(i.indexes).forEach(function(t){n.db.indexes[t]=new c(i.indexes[t])});try{n.db.resetIndexes(i.data)}catch(o){return n.db.resetIndexes(),t(o)}n.db.persistence.persistCachedDatabase(t)})})})}],function(t){return t?e(t):(n.db.executor.processBuffer(),e(null))})},t.exports=s},"iP+Z":function(t,e){t.exports.getRandomArray=function t(e){var n,r;return 0===e?[]:1===e?[0]:(n=t(e-1),r=Math.floor(Math.random()*e),n.splice(r,0,e-1),n)},t.exports.defaultCompareKeysFunction=function(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e)return 0;var n=new Error("Couldn't compare elements");throw n.a=t,n.b=e,n},t.exports.defaultCheckValueEquality=function(t,e){return t===e}},kwS3:function(t,e,n){var r=n("iP+Z");function i(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||r.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||r.defaultCheckValueEquality}function o(t,e){var n;for(n=0;n<e.length;n+=1)t.push(e[n])}i.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},i.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},i.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},i.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},i.prototype.checkAllNodesFullfillCondition=function(t){this.hasOwnProperty("key")&&(t(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(t),this.right&&this.right.checkAllNodesFullfillCondition(t))},i.prototype.checkNodeOrdering=function(){var t=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(e){if(t.compareKeys(e,t.key)>=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(e){if(t.compareKeys(e,t.key)<=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")}),this.right.checkNodeOrdering()))},i.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.right.checkInternalPointers()}},i.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw new Error("The root shouldn't have a parent")},i.prototype.getNumberOfKeys=function(){var t;return this.hasOwnProperty("key")?(t=1,this.left&&(t+=this.left.getNumberOfKeys()),this.right&&(t+=this.right.getNumberOfKeys()),t):0},i.prototype.createSimilar=function(t){return(t=t||{}).unique=this.unique,t.compareKeys=this.compareKeys,t.checkValueEquality=this.checkValueEquality,new this.constructor(t)},i.prototype.createLeftChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.left=e,e},i.prototype.createRightChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.right=e,e},i.prototype.insert=function(t,e){if(!this.hasOwnProperty("key"))return this.key=t,void this.data.push(e);if(0!==this.compareKeys(this.key,t))this.compareKeys(t,this.key)<0?this.left?this.left.insert(t,e):this.createLeftChild({key:t,value:e}):this.right?this.right.insert(t,e):this.createRightChild({key:t,value:e});else{if(this.unique){var n=new Error("Can't insert key "+t+", it violates the unique constraint");throw n.key=t,n.errorType="uniqueViolated",n}this.data.push(e)}},i.prototype.search=function(t){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,t)?this.data:this.compareKeys(t,this.key)<0?this.left?this.left.search(t):[]:this.right?this.right.search(t):[]:[]},i.prototype.getLowerBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$gt")||t.hasOwnProperty("$gte")?t.hasOwnProperty("$gt")&&t.hasOwnProperty("$gte")?0===e.compareKeys(t.$gte,t.$gt)?function(n){return e.compareKeys(n,t.$gt)>0}:e.compareKeys(t.$gte,t.$gt)>0?function(n){return e.compareKeys(n,t.$gte)>=0}:function(n){return e.compareKeys(n,t.$gt)>0}:t.hasOwnProperty("$gt")?function(n){return e.compareKeys(n,t.$gt)>0}:function(n){return e.compareKeys(n,t.$gte)>=0}:function(){return!0}},i.prototype.getUpperBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$lt")||t.hasOwnProperty("$lte")?t.hasOwnProperty("$lt")&&t.hasOwnProperty("$lte")?0===e.compareKeys(t.$lte,t.$lt)?function(n){return e.compareKeys(n,t.$lt)<0}:e.compareKeys(t.$lte,t.$lt)<0?function(n){return e.compareKeys(n,t.$lte)<=0}:function(n){return e.compareKeys(n,t.$lt)<0}:t.hasOwnProperty("$lt")?function(n){return e.compareKeys(n,t.$lt)<0}:function(n){return e.compareKeys(n,t.$lte)<=0}:function(){return!0}},i.prototype.betweenBounds=function(t,e,n){var r=[];return this.hasOwnProperty("key")?(e=e||this.getLowerBoundMatcher(t),n=n||this.getUpperBoundMatcher(t),e(this.key)&&this.left&&o(r,this.left.betweenBounds(t,e,n)),e(this.key)&&n(this.key)&&o(r,this.data),n(this.key)&&this.right&&o(r,this.right.betweenBounds(t,e,n)),r):[]},i.prototype.deleteIfLeaf=function(){return!this.left&&!this.right&&(this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0))},i.prototype.deleteIfOnlyOneChild=function(){var t;return this.left&&!this.right&&(t=this.left),!this.left&&this.right&&(t=this.right),!!t&&(this.parent?(this.parent.left===this?(this.parent.left=t,t.parent=this.parent):(this.parent.right=t,t.parent=this.parent),!0):(this.key=t.key,this.data=t.data,this.left=null,t.left&&(this.left=t.left,t.left.parent=this),this.right=null,t.right&&(this.right=t.right,t.right.parent=this),!0))},i.prototype.delete=function(t,e){var n,r=[],i=this;if(this.hasOwnProperty("key"))if(this.compareKeys(t,this.key)<0)this.left&&this.left.delete(t,e);else if(this.compareKeys(t,this.key)>0)this.right&&this.right.delete(t,e);else if(0!==!this.compareKeys(t,this.key))return this.data.length>1&&void 0!==e?(this.data.forEach(function(t){i.checkValueEquality(t,e)||r.push(t)}),void(i.data=r)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(n=this.left.getMaxKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.left=n.left,n.left&&(n.left.parent=n.parent)):(n.parent.right=n.left,n.left&&(n.left.parent=n.parent))):(n=this.right.getMinKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.right=n.right,n.right&&(n.right.parent=n.parent)):(n.parent.left=n.right,n.right&&(n.right.parent=n.parent)))))},i.prototype.executeOnEveryNode=function(t){this.left&&this.left.executeOnEveryNode(t),t(this),this.right&&this.right.executeOnEveryNode(t)},i.prototype.prettyPrint=function(t,e){e=e||"",console.log(e+"* "+this.key),t&&console.log(e+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(t,e+"  "):console.log(e+"  *"),this.right?this.right.prettyPrint(t,e+"  "):console.log(e+"  *"))},t.exports=i},ls82:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new j(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=s(t,e,n);if("normal"===c.type){if(r=n.done?p:l,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",d={};function y(){}function v(){}function g(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,o)&&(m=w);var k=g.prototype=y.prototype=Object.create(m);function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,a){var u=s(t[n],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(f).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,a)})}a(u.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=s(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:e,done:!0}}return v.prototype=k.constructor=g,g.constructor=v,g[u]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},_(x.prototype),x.prototype[a]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,r,i){var o=new x(c(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(k),k[u]="Generator",k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},nj0h:function(t,e,n){var r;!function(){var n,i,o={};function a(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}null!=(n=this)&&(i=n.async),o.noConflict=function(){return n.async=i,o};var u=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},c=function(t,e){if(t.map)return t.map(e);var n=[];return u(t,function(t,r,i){n.push(e(t,r,i))}),n},s=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!==typeof process&&process.nextTick?(o.nextTick=process.nextTick,"undefined"!==typeof setImmediate?o.setImmediate=function(t){setImmediate(t)}:o.setImmediate=o.nextTick):"function"===typeof setImmediate?(o.nextTick=function(t){setImmediate(t)},o.setImmediate=o.nextTick):(o.nextTick=function(t){setTimeout(t,0)},o.setImmediate=o.nextTick),o.each=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0;u(t,function(i){e(i,a(function(e){e?(n(e),n=function(){}):(r+=1)>=t.length&&n(null)}))})},o.forEach=o.each,o.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0;!function i(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1)>=t.length?n(null):i()})}()},o.forEachSeries=o.eachSeries,o.eachLimit=function(t,e,n,r){f(e).apply(null,[t,n,r])},o.forEachLimit=o.eachLimit;var f=function(t){return function(e,n,r){if(r=r||function(){},!e.length||t<=0)return r();var i=0,o=0,a=0;!function u(){if(i>=e.length)return r();for(;a<t&&o<e.length;)a+=1,n(e[(o+=1)-1],function(t){t?(r(t),r=function(){}):(a-=1,(i+=1)>=e.length?r():u())})}()}},l=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[o.each].concat(e))}},h=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[o.eachSeries].concat(e))}},p=function(t,e,n,r){var i=[];t(e=c(e,function(t,e){return{index:e,value:t}}),function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})};o.map=l(p),o.mapSeries=h(p),o.mapLimit=function(t,e,n,r){return d(e)(t,n,r)};var d=function(t){return function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[f(t)].concat(n))}}(t,p)};o.reduce=function(t,e,n,r){o.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(t,e,n,r){var i=c(t,function(t){return t}).reverse();o.reduce(i,e,n,r)},o.foldr=o.reduceRight;var y=function(t,e,n,r){var i=[];t(e=c(e,function(t,e){return{index:e,value:t}}),function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(t){r(c(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};o.filter=l(y),o.filterSeries=h(y),o.select=o.filter,o.selectSeries=o.filterSeries;var v=function(t,e,n,r){var i=[];t(e=c(e,function(t,e){return{index:e,value:t}}),function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(t){r(c(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};o.reject=l(v),o.rejectSeries=h(v);var g=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(t){r()})};o.detect=l(g),o.detectSeries=h(g),o.some=function(t,e,n){o.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(t){n(!1)})},o.any=o.some,o.every=function(t,e,n){o.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(t){n(!0)})},o.all=o.every,o.sortBy=function(t,e,n){o.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);n(null,c(e.sort(function(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}),function(t){return t.value}))})},o.auto=function(t,e){e=e||function(){};var n=s(t);if(!n.length)return e(null);var r={},i=[],a=function(t){i.unshift(t)},c=function(){u(i.slice(0),function(t){t()})};a(function(){s(r).length===n.length&&(e(null,r),e=function(){})}),u(n,function(n){var f=t[n]instanceof Function?[t[n]]:t[n],l=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var a={};u(s(r),function(t){a[t]=r[t]}),a[n]=i,e(t,a),e=function(){}}else r[n]=i,o.setImmediate(c)},h=f.slice(0,Math.abs(f.length-1))||[],p=function(){return e=function(t,e){return t&&r.hasOwnProperty(e)},i=!0,((t=h).reduce?t.reduce(e,i):(u(t,function(t,n,r){i=e(i,t,n,r)}),i))&&!r.hasOwnProperty(n);var t,e,i};if(p())f[f.length-1](l,r);else{a(function t(){p()&&(function(t){for(var e=0;e<i.length;e+=1)if(i[e]===t)return void i.splice(e,1)}(t),f[f.length-1](l,r))})}})},o.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();!function t(n){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),a=n.next();a?i.push(t(a)):i.push(e),o.setImmediate(function(){n.apply(null,i)})}}}(o.iterator(t))()};var m=function(t,e,n){if(n=n||function(){},e.constructor===Array)t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(s(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};o.parallel=function(t,e){m({map:o.map,each:o.each},t,e)},o.parallelLimit=function(t,e,n){m({map:d(e),each:f(e)},t,n)},o.series=function(t,e){if(e=e||function(){},t.constructor===Array)o.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};o.eachSeries(s(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},o.iterator=function(t){return function e(n){var r=function e(){return t.length&&t[n].apply(null,arguments),e.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r}(0)},o.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var b=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};o.concat=l(b),o.concatSeries=h(b),o.whilst=function(t,e,n){t()?e(function(r){if(r)return n(r);o.whilst(t,e,n)}):n()},o.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);e()?o.doWhilst(t,e,n):n()})},o.until=function(t,e,n){t()?n():e(function(r){if(r)return n(r);o.until(t,e,n)})},o.doUntil=function(t,e,n){t(function(r){if(r)return n(r);e()?n():o.doUntil(t,e,n)})},o.queue=function(t,e){function n(t,n,r,i){n.constructor!==Array&&(n=[n]),u(n,function(n){var a={data:n,callback:"function"===typeof i?i:null};r?t.tasks.unshift(a):t.tasks.push(a),t.saturated&&t.tasks.length===e&&t.saturated(),o.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,i={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,push:function(t,e){n(i,t,!1,e)},unshift:function(t,e){n(i,t,!0,e)},process:function(){if(r<i.concurrency&&i.tasks.length){var e=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=a(function(){r-=1,e.callback&&e.callback.apply(e,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()});t(e.data,n)}},length:function(){return i.tasks.length},running:function(){return r}};return i},o.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,push:function(t,n){t.constructor!==Array&&(t=[t]),u(t,function(t){r.push({data:t,callback:"function"===typeof n?n:null}),i.saturated&&r.length===e&&i.saturated()}),o.setImmediate(i.process)},process:function o(){if(!n)if(0!==r.length){var a="number"===typeof e?r.splice(0,e):r.splice(0),s=c(a,function(t){return t.data});i.empty&&i.empty(),n=!0,t(s,function(){n=!1;var t=arguments;u(a,function(e){e.callback&&e.callback.apply(null,t)}),o()})}else i.drain&&i.drain()},length:function(){return r.length},running:function(){return n}};return i};var w=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!==typeof console&&(e?console.error&&console.error(e):console[t]&&u(n,function(e){console[t](e)}))}]))}};o.log=w("log"),o.dir=w("dir"),o.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=e.apply(null,i);a in n?o.apply(null,n[a]):a in r?r[a].push(o):(r[a]=[o],t.apply(null,i.concat([function(){n[a]=arguments;var t=r[a];delete r[a];for(var e=0,i=t.length;e<i;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},o.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},o.times=function(t,e,n){for(var r=[],i=0;i<t;i++)r.push(i);return o.map(r,e,n)},o.timesSeries=function(t,e,n){for(var r=[],i=0;i<t;i++)r.push(i);return o.mapSeries(r,e,n)},o.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();o.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}};var k=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};o.applyEach=l(k),o.applyEachSeries=h(k),o.forever=function(t,e){!function n(r){if(r){if(e)return e(r);throw r}t(n)}()},void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},"o+so":function(t,e,n){"use strict";var r=n("vpQ4"),i=n("q1tI"),o=n.n(i),a=n("ODXe"),u=n("1OyB"),c=n("vuIU"),s=Symbol("state"),f=function(){function t(e){var n=this;Object(u.a)(this,t),this.processReducer=function(){var t=n._modules.reduce(function(t,e){return t.state[e.name]={},e.observableProps.forEach(function(n){var r=e.getPropValue(n),o=Object(i.useState)(r),u=Object(a.a)(o,2),c=u[0],s=u[1];t.state[e.name][n]=c,e.setPropDispatch(n,s)}),t.modules[e.name]=e.module,t},{state:{},modules:{}});n.state=t.state,n.modules=t.modules},this._context=e.context,this[s]={},this._modules=e.modules||[]}return Object(c.a)(t,[{key:"context",get:function(){return this._context}},{key:"state",get:function(){return this[s]},set:function(t){t!==this[s]&&(this[s]=t)}}]),t}(),l=n("Mpt7"),h=Symbol("lazy initialize symbol"),p=Symbol("pending decorator"),d=Symbol("@proxy"),y={};function v(t){if(!0!==t[h]){var e=t[p];if(e)for(var n in g(t,h,!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor)}}}function g(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}var m=function(){function t(e){Object(u.a)(this,t),this.$value=new Map,this.$dispatch=new Map,this.target=e}return Object(c.a)(t,[{key:"read",value:function(t){var e=this.$value.get(t);return Object(l.b)(e)?e.toJS():e}},{key:"write",value:function(t,e){var n=e;Object(l.b)(e)||(n=Object(l.a)(e)),this.$value.set(t,n);var r=this.$dispatch.get(t);if(!r)throw new Error("".concat(t," is not observable, please use observable decorater to ").concat(t));r&&r(e)}},{key:"addObservableProp",value:function(t,e){var n=this.target;this.$value.set(t,Object(l.a)(e)),Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return this[d].read(t)},set:function(e){this[d].write(t,e)}})}},{key:"outputProps",value:function(){return Object.keys(this.$value)}},{key:"setDispatch",value:function(t,e){this.$dispatch.set(t,e)}},{key:"getDispatch",value:function(t){return this.$dispatch.get(t)}}]),t}();var b=function(t,e,n){var r;return(r=function(t,e,n){var r=n?n.initializer?n.initializer.call(t):n.value:void 0;(function(t){if(Object.prototype.hasOwnProperty.call(t,d))return t[d];var e=new m(t);return g(t,d,e),e})(t).addObservableProp(e,r)},function(){return function(t,e,n){if(!Object.prototype.hasOwnProperty.call(t,p)){var i=t[p];g(t,p,Object.assign({},i))}return t[p][e]={prop:e,propertyCreator:r,descriptor:n,decoratorTarget:t},function(t){return y[t]||(y[t]={configurable:!0,enumerable:!0,get:function(){return v(this),this[t]},set:function(e){v(this),this[t]=e}})}(e)}.apply(null,arguments)}).apply(null,arguments)},w=function(){function t(e){var n;Object(u.a)(this,t),this.name=e.constructor.name,this._module=e,this.observableProps=(n=this._module)[p]?Object.keys(n[p]):[]}return Object(c.a)(t,[{key:"getPropValue",value:function(t){return this._module[t]}},{key:"setPropDispatch",value:function(t,e){this._module.setState||(this._module.setState=this.setState),function(t,e,n){if(!t[d])throw new Error("model is not observable");t[d].setDispatch(e,n)}(this._module,t,e)}},{key:"setState",value:function(t){var e=this;Object.getOwnPropertyNames(t).forEach(function(n){console.log("dispatch => ",e.constructor.name,"prop=",n),e[n]=t[n]})}},{key:"module",get:function(){return this._module}}]),t}();function k(t,e){var n=[];return Array.isArray(e)?e.forEach(function(e){"object"===typeof e&&(e.context=t,n.push(new w(e)))}):"object"===typeof e&&(e.context=t,n.push(new w(e))),new f({context:t,modules:n})}var _=function(t){return function(e){return function(n){return[].concat(t).reduce(function(t,e){return e.context&&t.set(e.context,!0),t},new Map).forEach(function(t,e){Object(i.useContext)(e)}),e(Object(r.a)({},n))}}},x=function(t){return function(e){return function(n){return t.processReducer(),o.a.createElement(t.context.Provider,{value:{state:t.state,modules:t.modules}},o.a.createElement(e,n))}}};n.d(e,"d",function(){return x}),n.d(e,"b",function(){return k}),n.d(e,"a",function(){return _}),n.d(e,"c",function(){return b})},o0o1:function(t,e,n){t.exports=n("ls82")},oAJy:function(t,e,n){var r;t.exports=function t(e,n,i){function o(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof r&&r;if(!c&&s)return r(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return o(n||t)},l,l.exports,t,e,n,i)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,e,n){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(f),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),n=function(){u.data=o=++o%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var c=new t.MessageChannel;c.port1.onmessage=f,n=function(){c.port2.postMessage(0)}}var s=[];function f(){var t,e;r=!0;for(var n=s.length;n;){for(e=s,s=[],t=-1;++t<n;)e[t]();n=s.length}r=!1}e.exports=function(t){1!==s.push(t)||r||n()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function s(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==i&&p(this,t)}function f(t,e,n){this.promise=t,"function"===typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(t,e,n){r(function(){var r;try{r=e(n)}catch(i){return o.reject(t,i)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}function h(t){var e=t&&t.then;if(t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=d(function(){e(i,r)});"error"===a.status&&r(a.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=s,s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){if("function"!==typeof t&&this.state===u||"function"!==typeof e&&this.state===a)return this;var n=new this.constructor(i);if(this.state!==c){var r=this.state===u?t:e;l(n,r,this.outcome)}else this.queue.push(new f(n,t,e));return n},f.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},f.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},f.prototype.callRejected=function(t){o.reject(this.promise,t)},f.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(h,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)p(t,r);else{t.state=u,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},s.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},s.reject=function(t){var e=new this(i);return o.reject(e,t)},s.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),u=0,c=-1,s=new this(i);++c<n;)f(t[c],c);return s;function f(t,i){e.resolve(t).then(function(t){a[i]=t,++u!==n||r||(r=!0,o.resolve(s,a))},function(t){r||(r=!0,o.reject(s,t))})}},s.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a,u=-1,c=new this(i);++u<n;)a=t[u],e.resolve(a).then(function(t){r||(r=!0,o.resolve(c,t))},function(t){r||(r=!0,o.reject(c,t))});return c}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!==typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(e.type)}}"undefined"===typeof Promise&&t(3);var a=Promise;function u(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function c(t,e,n){"function"===typeof e&&t.then(e),"function"===typeof n&&t.catch(n)}function s(t){return"string"!==typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function f(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",h=void 0,p={},d=Object.prototype.toString,y="readonly",v="readwrite";function g(t){return"boolean"===typeof h?a.resolve(h):function(t){return new a(function(e){var n=t.transaction(l,v),r=o([""]);n.objectStore(l).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return h=t})}function m(t){var e=p[t.name],n={};n.promise=new a(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function b(t){var e=p[t.name],n=e.deferredOperations.pop();if(n)return n.resolve(),n.promise}function w(t,e){var n=p[t.name],r=n.deferredOperations.pop();if(r)return r.reject(e),r.promise}function k(t,e){return new a(function(n,r){if(p[t.name]=p[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var a=i.open.apply(i,o);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(l)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),b(t)}})}function _(t){return k(t,!1)}function x(t){return k(t,!0)}function E(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function O(t){var e=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data));return o([e],{type:t.type})}function I(t){return t&&t.__local_forage_encoded_blob}function j(t){var e=this,n=e._initReady().then(function(){var t=p[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return c(n,t,t),n}function A(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(o){if(r>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),x(t)}).then(function(){return function(t){m(t);for(var e=p[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,_(t).then(function(e){return t.db=e,E(t)?x(t):e}).then(function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(e){throw w(t,e),e})}(t).then(function(){A(t,e,n,r-1)})}).catch(n);n(o)}}var S={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=p[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},p[n.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=j);var o=[];function u(){return a.resolve()}for(var c=0;c<i.forages.length;c++){var s=i.forages[c];s!==e&&o.push(s._initReady().catch(u))}var f=i.forages.slice(0);return a.all(o).then(function(){return n.db=i.db,_(n)}).then(function(t){return n.db=t,E(n,e._defaultConfig.version)?x(n):t}).then(function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<f.length;r++){var o=f[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!i)return!1;var t="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){A(n._dbInfo,y,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),u=a.openCursor(),c=1;u.onsuccess=function(){var n=u.result;if(n){var r=n.value;I(r)&&(r=O(r));var i=t(r,n.key,c++);void 0!==i?e(i):n.continue()}else e()},u.onerror=function(){r(u.error)}}catch(s){r(s)}})}).catch(r)});return u(r,e),r},getItem:function(t,e){var n=this;t=s(t);var r=new a(function(e,r){n.ready().then(function(){A(n._dbInfo,y,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),u=a.get(t);u.onsuccess=function(){var t=u.result;void 0===t&&(t=null),I(t)&&(t=O(t)),e(t)},u.onerror=function(){r(u.error)}}catch(c){r(c)}})}).catch(r)});return u(r,e),r},setItem:function(t,e,n){var r=this;t=s(t);var i=new a(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===d.call(e)?g(o.db).then(function(t){return t?e:(n=e,new a(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e}).then(function(e){A(r._dbInfo,v,function(o,a){if(o)return i(o);try{var u=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var c=u.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=c.error?c.error:c.transaction.error;i(t)}}catch(s){i(s)}})}).catch(i)});return u(i,n),i},removeItem:function(t,e){var n=this;t=s(t);var r=new a(function(e,r){n.ready().then(function(){A(n._dbInfo,v,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),u=a.delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(u.error)},o.onabort=function(){var t=u.error?u.error:u.transaction.error;r(t)}}catch(c){r(c)}})}).catch(r)});return u(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){A(e._dbInfo,v,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName),a=o.clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(u){n(u)}})}).catch(n)});return u(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){A(e._dbInfo,y,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName),a=o.count();a.onsuccess=function(){t(a.result)},a.onerror=function(){n(a.error)}}catch(u){n(u)}})}).catch(n)});return u(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){t<0?e(null):n.ready().then(function(){A(n._dbInfo,y,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),u=!1,c=a.openCursor();c.onsuccess=function(){var n=c.result;n?0===t?e(n.key):u?e(n.key):(u=!0,n.advance(t)):e(null)},c.onerror=function(){r(c.error)}}catch(s){r(s)}})}).catch(r)});return u(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){A(e._dbInfo,y,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName),a=o.openCursor(),u=[];a.onsuccess=function(){var e=a.result;e?(u.push(e.key),e.continue()):t(u)},a.onerror=function(){n(a.error)}}catch(c){n(c)}})}).catch(n)});return u(n,t),n},dropInstance:function(t,e){e=f.apply(this,arguments);var n,r=this.config();if((t="function"!==typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var o=t.name===r.name&&this._dbInfo.db,c=o?a.resolve(this._dbInfo.db):_(t).then(function(e){var n=p[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e});n=t.storeName?c.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var r=p[t.name],o=r.forages;e.close();for(var u=0;u<o.length;u++){var c=o[u];c._dbInfo.db=null,c._dbInfo.version=n}var s=new a(function(e,r){var o=i.open(t.name,n);o.onerror=function(t){var e=o.result;e.close(),r(t)},o.onupgradeneeded=function(){var e=o.result;e.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}});return s.then(function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,b(n._dbInfo)}}).catch(function(e){throw(w(t,e)||a.resolve()).catch(function(){}),e})}}):c.then(function(e){m(t);var n=p[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++){var u=r[o];u._dbInfo.db=null}var c=new a(function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}});return c.then(function(t){n.db=t;for(var e=0;e<r.length;e++){var i=r[e];b(i._dbInfo)}}).catch(function(e){throw(w(t,e)||a.resolve()).catch(function(){}),e})})}else n=a.reject("Invalid arguments");return u(n,e),n}},D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="~~local_forage_type~",$=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",C=P.length,T="arbf",M="blob",F="si08",R="ui08",B="uic8",L="si16",q="si32",z="ur16",K="ui32",U="fl32",W="fl64",V=C+T.length,H=Object.prototype.toString;function G(t){var e,n,r,i,o,a=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var s=new ArrayBuffer(a),f=new Uint8Array(s);for(e=0;e<u;e+=4)n=D.indexOf(t[e]),r=D.indexOf(t[e+1]),i=D.indexOf(t[e+2]),o=D.indexOf(t[e+3]),f[c++]=n<<2|r>>4,f[c++]=(15&r)<<4|i>>2,f[c++]=(3&i)<<6|63&o;return s}function J(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=D[n[e]>>2],r+=D[(3&n[e])<<4|n[e+1]>>4],r+=D[(15&n[e+1])<<2|n[e+2]>>6],r+=D[63&n[e+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var Y={serialize:function(t,e){var n="";if(t&&(n=H.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===H.call(t.buffer))){var r,i=P;t instanceof ArrayBuffer?(r=t,i+=T):(r=t.buffer,"[object Int8Array]"===n?i+=F:"[object Uint8Array]"===n?i+=R:"[object Uint8ClampedArray]"===n?i+=B:"[object Int16Array]"===n?i+=L:"[object Uint16Array]"===n?i+=z:"[object Int32Array]"===n?i+=q:"[object Uint32Array]"===n?i+=K:"[object Float32Array]"===n?i+=U:"[object Float64Array]"===n?i+=W:e(new Error("Failed to get type for BinaryArray"))),e(i+J(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=N+t.type+"~"+J(this.result);e(P+M+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function(t){if(t.substring(0,C)!==P)return JSON.parse(t);var e,n=t.substring(V),r=t.substring(C,V);if(r===M&&$.test(n)){var i=n.match($);e=i[1],n=n.substring(i[0].length)}var a=G(n);switch(r){case T:return a;case M:return o([a],{type:e});case F:return new Int8Array(a);case R:return new Uint8Array(a);case B:return new Uint8ClampedArray(a);case L:return new Int16Array(a);case z:return new Uint16Array(a);case q:return new Int32Array(a);case K:return new Uint32Array(a);case U:return new Float32Array(a);case W:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:G,bufferToString:J};function Q(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function X(t,e,n,r,i,o){t.executeSql(n,r,i,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,u){u.rows.length?o(t,a):Q(t,e,function(){t.executeSql(n,r,i,o)},o)},o):o(t,a)},o)}var Z={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!==typeof t[r]?t[r].toString():t[r];var i=new a(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction(function(i){Q(i,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=Y,i},_support:"function"===typeof openDatabase,iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){X(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,u=0;u<a;u++){var c=o.item(u),s=c.value;if(s&&(s=i.serializer.deserialize(s)),void 0!==(s=t(s,c.key,u+1)))return void e(s)}e()},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},getItem:function(t,e){var n=this;t=s(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){X(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},setItem:function(t,e,n){return function t(e,n,r,i){var o=this;e=s(e);var c=new a(function(a,u){o.ready().then(function(){void 0===n&&(n=null);var c=n,s=o._dbInfo;s.serializer.serialize(n,function(n,f){f?u(f):s.db.transaction(function(t){X(t,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){a(c)},function(t,e){u(e)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void a(t.apply(o,[e,c,r,i-1]));u(n)}})})}).catch(u)});return u(c,r),c}.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=s(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){X(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){X(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){X(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){X(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){X(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},dropInstance:function(t,e){e=f.apply(this,arguments);var n=this.config();(t="function"!==typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return u(r=t.name?new a(function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(function(t){return new a(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})},function(t,e){n(e)})},function(t){n(t)})})}(r))}).then(function(t){return new a(function(e,n){t.db.transaction(function(r){function i(t){return new a(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var o=[],u=0,c=t.storeNames.length;u<c;u++)o.push(i(t.storeNames[u]));a.all(o).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):a.reject("Invalid arguments"),e),r}};function tt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function et(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var nt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=tt(t,this._defaultConfig),et()?(this._dbInfo=e,e.serializer=Y,a.resolve()):a.reject()},_support:function(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,u=0;u<o;u++){var c=localStorage.key(u);if(0===c.indexOf(r)){var s=localStorage.getItem(c);if(s&&(s=e.serializer.deserialize(s)),void 0!==(s=t(s,c.substring(i),a++)))return s}}});return u(r,e),r},getItem:function(t,e){var n=this;t=s(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return u(r,e),r},setItem:function(t,e,n){var r=this;t=s(t);var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new a(function(i,o){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||o(u),o(u)}})})});return u(i,n),i},removeItem:function(t,e){var n=this;t=s(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return u(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return u(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return u(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return u(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r});return u(n,t),n},dropInstance:function(t,e){if(e=f.apply(this,arguments),!(t="function"!==typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return u(r=t.name?new a(function(e){t.storeName?e(tt(t,i._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),e),r}},rt=function(t,e){for(var n=t.length,r=0;r<n;){if((i=t[r])===(o=e)||"number"===typeof i&&"number"===typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},it=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ot={},at={},ut={INDEXEDDB:S,WEBSQL:Z,LOCALSTORAGE:nt},ct=[ut.INDEXEDDB._driver,ut.WEBSQL._driver,ut.LOCALSTORAGE._driver],st=["dropInstance"],ft=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(st),lt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ht(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function pt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(it(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ut)if(ut.hasOwnProperty(n)){var r=ut[n],i=r._driver;this[n]=i,ot[i]||this.defineDriver(r)}this._defaultConfig=pt({},lt),this._config=pt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===("undefined"===typeof t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!==typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"===typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new a(function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var o=ft.concat("_initStorage"),c=0,s=o.length;c<s;c++){var f=o[c],l=!rt(st,f);if((l||t[f])&&"function"!==typeof t[f])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return u(n,arguments[arguments.length-1]),n}},n=0,r=st.length;n<r;n++){var i=st[n];t[i]||(t[i]=e(i))}}();var h=function(n){ot[r]&&console.info("Redefining LocalForage driver: "+r),ot[r]=t,at[r]=n,e()};"_support"in t?t._support&&"function"===typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(p){n(p)}});return c(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=ot[t]?a.resolve(ot[t]):a.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(Y);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;it(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function u(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=s.then(function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(u).catch(n)}o();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()}}(i)})}).catch(function(){o();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet}),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){pt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ft.length;t<e;t++)ht(this,ft[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),yt=new dt;e.exports=yt},{3:3}]},{},[4])(4)},olbv:function(t,e,n){var r=n("kwS3"),i=n("iP+Z"),o=n("jK02");n("F/us");function a(t){this.tree=new u(t)}function u(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||i.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||i.defaultCheckValueEquality}o.inherits(u,r),a._AVLTree=u,u.prototype.checkHeightCorrect=function(){var t,e;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw new Error("Undefined height for node "+this.left.key);if(this.right&&void 0===this.right.height)throw new Error("Undefined height for node "+this.right.key);if(void 0===this.height)throw new Error("Undefined height for node "+this.key);if(t=this.left?this.left.height:0,e=this.right?this.right.height:0,this.height!==1+Math.max(t,e))throw new Error("Height constraint failed for node "+this.key);this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},u.prototype.balanceFactor=function(){return(this.left?this.left.height:0)-(this.right?this.right.height:0)},u.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw new Error("Tree is unbalanced at node "+this.key);this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},u.prototype.checkIsAVLT=function(){u.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},a.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},u.prototype.rightRotation=function(){var t,e,n,r,i=this,o=this.left;return o?(t=o.right,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.right=i,i.parent=o,i.left=t,t&&(t.parent=i),e=o.left?o.left.height:0,n=t?t.height:0,r=i.right?i.right.height:0,i.height=Math.max(n,r)+1,o.height=Math.max(e,i.height)+1,o):this},u.prototype.leftRotation=function(){var t,e,n,r,i=this,o=this.right;return o?(t=o.left,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.left=i,i.parent=o,i.right=t,t&&(t.parent=i),e=i.left?i.left.height:0,n=t?t.height:0,r=o.right?o.right.height:0,i.height=Math.max(e,n)+1,o.height=Math.max(r,i.height)+1,o):this},u.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},u.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},u.prototype.rebalanceAlongPath=function(t){var e,n,r=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(n=t.length-1;n>=0;n-=1)t[n].height=1+Math.max(t[n].left?t[n].left.height:0,t[n].right?t[n].right.height:0),t[n].balanceFactor()>1&&(e=t[n].rightTooSmall(),0===n&&(r=e)),t[n].balanceFactor()<-1&&(e=t[n].leftTooSmall(),0===n&&(r=e));return r},u.prototype.insert=function(t,e){var n=[],r=this;if(!this.hasOwnProperty("key"))return this.key=t,this.data.push(e),this.height=1,this;for(;;){if(0===r.compareKeys(r.key,t)){if(r.unique){var i=new Error("Can't insert key "+t+", it violates the unique constraint");throw i.key=t,i.errorType="uniqueViolated",i}return r.data.push(e),this}if(n.push(r),r.compareKeys(t,r.key)<0){if(!r.left){n.push(r.createLeftChild({key:t,value:e}));break}r=r.left}else{if(!r.right){n.push(r.createRightChild({key:t,value:e}));break}r=r.right}}return this.rebalanceAlongPath(n)},a.prototype.insert=function(t,e){var n=this.tree.insert(t,e);n&&(this.tree=n)},u.prototype.delete=function(t,e){var n,r=[],i=this,o=[];if(!this.hasOwnProperty("key"))return this;for(;0!==i.compareKeys(t,i.key);)if(o.push(i),i.compareKeys(t,i.key)<0){if(!i.left)return this;i=i.left}else{if(!i.right)return this;i=i.right}if(i.data.length>1&&e)return i.data.forEach(function(t){i.checkValueEquality(t,e)||r.push(t)}),i.data=r,this;if(!i.left&&!i.right)return i===this?(delete i.key,i.data=[],delete i.height,this):(i.parent.left===i?i.parent.left=null:i.parent.right=null,this.rebalanceAlongPath(o));if(!i.left||!i.right)return n=i.left?i.left:i.right,i===this?(n.parent=null,n):(i.parent.left===i?(i.parent.left=n,n.parent=i.parent):(i.parent.right=n,n.parent=i.parent),this.rebalanceAlongPath(o));if(o.push(i),!(n=i.left).right)return i.key=n.key,i.data=n.data,i.left=n.left,n.left&&(n.left.parent=i),this.rebalanceAlongPath(o);for(;n.right;)o.push(n),n=n.right;return i.key=n.key,i.data=n.data,n.parent.right=n.left,n.left&&(n.left.parent=n.parent),this.rebalanceAlongPath(o)},a.prototype.delete=function(t,e){var n=this.tree.delete(t,e);n&&(this.tree=n)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(t){a.prototype[t]=function(){return this.tree[t].apply(this.tree,arguments)}}),t.exports=a},ppU0:function(t,e,n){var r=n("sD1s").AVLTree,i=n("bWPS"),o=n("F/us"),a=n("jK02");function u(t,e){return t===e}function c(t){return null===t?"$null":"string"===typeof t?"$string"+t:"boolean"===typeof t?"$boolean"+t:"number"===typeof t?"$number"+t:a.isArray(t)?"$date"+t.getTime():t}function s(t){this.fieldName=t.fieldName,this.unique=t.unique||!1,this.sparse=t.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:i.compareThings,checkValueEquality:u},this.reset()}s.prototype.reset=function(t){this.tree=new r(this.treeOptions),t&&this.insert(t)},s.prototype.insert=function(t){var e,n,r,u,s;if(a.isArray(t))this.insertMultipleDocs(t);else if(void 0!==(e=i.getDotValue(t,this.fieldName))||!this.sparse)if(a.isArray(e)){for(n=o.uniq(e,c),r=0;r<n.length;r+=1)try{this.tree.insert(n[r],t)}catch(f){s=f,u=r;break}if(s){for(r=0;r<u;r+=1)this.tree.delete(n[r],t);throw s}}else this.tree.insert(e,t)},s.prototype.insertMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)try{this.insert(t[e])}catch(i){n=i,r=e;break}if(n){for(e=0;e<r;e+=1)this.remove(t[e]);throw n}},s.prototype.remove=function(t){var e,n=this;a.isArray(t)?t.forEach(function(t){n.remove(t)}):void 0===(e=i.getDotValue(t,this.fieldName))&&this.sparse||(a.isArray(e)?o.uniq(e,c).forEach(function(e){n.tree.delete(e,t)}):this.tree.delete(e,t))},s.prototype.update=function(t,e){if(a.isArray(t))this.updateMultipleDocs(t);else{this.remove(t);try{this.insert(e)}catch(n){throw this.insert(t),n}}},s.prototype.updateMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)this.remove(t[e].oldDoc);for(e=0;e<t.length;e+=1)try{this.insert(t[e].newDoc)}catch(i){r=i,n=e;break}if(r){for(e=0;e<n;e+=1)this.remove(t[e].newDoc);for(e=0;e<t.length;e+=1)this.insert(t[e].oldDoc);throw r}},s.prototype.revertUpdate=function(t,e){var n=[];a.isArray(t)?(t.forEach(function(t){n.push({oldDoc:t.newDoc,newDoc:t.oldDoc})}),this.update(n)):this.update(e,t)},s.prototype.getMatching=function(t){var e=this;if(a.isArray(t)){var n={},r=[];return t.forEach(function(t){e.getMatching(t).forEach(function(t){n[t._id]=t})}),Object.keys(n).forEach(function(t){r.push(n[t])}),r}return e.tree.search(t)},s.prototype.getBetweenBounds=function(t){return this.tree.betweenBounds(t)},s.prototype.getAll=function(){var t=[];return this.tree.executeOnEveryNode(function(e){var n;for(n=0;n<e.data.length;n+=1)t.push(e.data[n])}),t},t.exports=s},sD1s:function(t,e,n){t.exports.BinarySearchTree=n("kwS3"),t.exports.AVLTree=n("olbv")},z09t:function(t,e,n){"use strict";var r=n("1OyB"),i=n("vuIU"),o=n("Df9t"),a=n.n(o),u=function(){function t(e){Object(r.a)(this,t),this.db=new a.a(e)}return Object(i.a)(t,[{key:"insert",value:function(t){var e=this;return new Promise(function(n,r){e.db.insert(t,function(t,e){t?r(t):n(e)})})}},{key:"update",value:function(t,e){var n=this;return new Promise(function(r,i){n.db.update(t,{$set:e},{},function(t,e){t?i(t):r(e)})})}},{key:"remove",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,i){e.db.remove(t,{multi:n},function(t,e){t?i(t):r(e)})})}},{key:"find",value:function(t){var e=this;return new Promise(function(n,r){e.db.find(t,function(t,e){t?r(t):n(e)})})}}]),t}(),c=function(){function t(){Object(r.a)(this,t),this._dbMap=new Map}return Object(i.a)(t,[{key:"createDb",value:function(t){var e=new u(t);return this._dbMap.set(t.filename,e),e}},{key:"get",value:function(t){return this._dbMap.get(t)}}]),t}();e.a=new c}}]);
//# sourceMappingURL=0.e37bec9e.chunk.js.map